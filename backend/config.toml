# Ting Reader Backend Configuration

[server]
host = "0.0.0.0"
port = 3000
max_connections = 100
request_timeout = 30  # seconds

[database]
path = "./data/ting-reader.db"
connection_pool_size = 10
busy_timeout = 5000  # milliseconds

[plugins]
plugin_dir = "./plugins"
enable_hot_reload = true
max_memory_per_plugin = 536870912  # 512 MB
max_execution_time = 300  # seconds

[task_queue]
max_concurrent_tasks = 10
default_retry_count = 3
task_timeout = 600  # seconds

[logging]
level = "info"  # debug, info, warn, error
format = "json"  # json, text
output = "stdout"  # stdout, file
log_file = "./logs/ting-reader.log"
max_file_size = 10485760  # 10 MB
max_backups = 5

[security]
enable_auth = false
api_key = ""
jwt_secret = "ting_reader_jwt_secret_change_me_in_prod"
allowed_origins = ["*"]
rate_limit_requests = 100
rate_limit_window = 60  # seconds
enable_hsts = false  # Enable HTTPS Strict Transport Security (set to true in production with HTTPS)
hsts_max_age = 31536000  # 1 year in seconds

[storage]
data_dir = "./data"
temp_dir = "./temp"
local_storage_root = "./storage"  # Root directory for local libraries
max_disk_usage = 2147483648  # 2 GB
