# 更新日志 (Changelog)

所有关于 **Ting Reader** 的重要变更都将记录在此文件中。

## [1.0.2] - 2026-02-03

### ✨ 播放器功能优化
- **自定义睡眠定时**：支持设置任意分钟数的倒计时，并优化了 UI 布局，解决了按钮挤压问题。
- **定时器智能同步**：倒计时现在会随播放状态自动暂停/恢复。
- **输入安全性**：限制自定义定时输入为正整数，禁止负数输入。

### 🚀 UI/UX 修复
- **沉浸式进度条**：修复了进度指示器（时间药丸）固定不移动的问题，现在会随播放进度平滑滑动。
- **播放状态同步**：通过监听底层音频事件，确保图标状态（播放/暂停）与实际播放情况实时同步，修复了中断后图标不更新的问题。

---

## [1.0.1] - 2026-02-03

### ✨ 新特性
- **媒体库同步清理**：同步时自动检测并清理磁盘上已不存在的书籍和章节记录。
- **单本书籍管理**：
  - 支持从书架手动删除书籍。
  - 本地源支持在删除时同步物理删除源文件。
  - 删除书籍时自动清理关联的所有缓存（`.bin`）和预加载文件。
- **智能合并去重**：扫描时支持根据音频标签（Album）跨文件夹合并同一专辑，避免重复创建书籍。
- **自动初始化扫描**：首次添加媒体库后自动触发一次同步任务，无需手动点击。

### 🚀 优化与改进
- **缓存机制优化**：本地存储源（非加密文件）改为直接流式传输，不再占用额外的缓存空间。
- **刮削逻辑增强**：优化了喜马拉雅刮削器，支持更精准的描述清理和元数据提取。
- **UI 改进**：
  - 后台管理菜单顺序调整：任务日志移动至库管理之后，方便查看同步状态。
  - 增加删除书籍确认弹窗及危险操作提示。
- **版本管理**：项目整体版本更新至 1.0.1。

---

## [1.0.0] - 2026-02-03
- 初始版本发布。
